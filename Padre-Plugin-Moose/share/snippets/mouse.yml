
---
# Copyright 2008-2012 The Padre development team as listed in Padre.pm.
# LICENSE
# This program is free software; you can redistribute it and/or
# modify it under the same terms as Perl 5 itself.

# Mouse snippets bundle for Padre::Plugin::Moose
# By Ahmad M. Zawawi (azawawi)

# after method modifier
after: after '$0' => sub { $1 }; 

# before method modifier
before: before '$0' => sub { $1 }; 

# around method modifier
around: around '$0' => sub { $1 }; 

# Augment method modifier
augment: augment '$0' => sub { $1 }; 

# Override method modifier
override: override '$0' => sub { $1 }; 

# Define class type
classtype: class_type '$0';

# Type coercion
coerce: |
  coerce '$0' 
      => from '$1' 
         via { $2 };

# Desctrutor
DEMOLISH: |
  sub DEMOLISH {
      my $self = shift;
      $0
  }

# Constructor
BUILD: |
  sub BUILD {
      my $self = shift;
      $0
  }

# Property
has: has '$0' => ( isa => 'Str', is  => 'ro', );

# Type
type: |
  type '$0' 
      => where { $1 };

# Subtype
subtype: subtype '$0' => as '$1' => where { $2 }};

# Does a list of roles
with: with qw($0);
# Extend a list of parents

ext: extends qw($0);

# Exclude
excludes: excludes '$1';

# has lazy property builder
hasl: |
  has $0 => (
      isa => '$1',
      is  => '$2',
      lazy_build => 1,
  );
  
  sub _build_$0 {
      my $self = shift;
  
     $3
  }

# Role definition
role: |
  package $0;
  use Mouse::Role;
  $1
  no Mouse::Role; 
  1;

# Require a method definition
requires: requires '$0';

# Class declaration
class: |
  package $0;
  use Mouse;
  
  $1
  no Mouse;
  1;

# Method declaration
meth: |
  sub $0 {
      my $self = shift;
      $1
  }
